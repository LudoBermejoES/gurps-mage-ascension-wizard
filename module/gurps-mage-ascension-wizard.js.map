{"version":3,"file":"gurps-mage-ascension-wizard.js","sources":["../src/module/util/setup/socketkib.ts","../src/module/util/setup/constants.ts","../src/module/data/content.ts","../src/module/util/auxiliar.ts","../src/module/spells/visualFilters.ts","../src/module/spells/spellFunctions.ts","../src/module/spells/BaseSpellCasting.ts","../src/module/layer/gurpsMageAscensionLayer.ts","../src/module/util/setup/hooks.ts","../src/module/util/setup/config.ts","../src/module/gurps-mage-ascension-wizard.ts"],"sourcesContent":["const MODULE_NAME = 'gurps-mage-ascension-wizard' as const;\n\nconst functionsToRegister = {\n  nothing,\n} as const;\n\nfunction nothing() {\n  console.log('Do nothing');\n}\n\ninterface SockerLib {\n  registerModule(mudeltName: string): SockerLibSocket;\n}\nexport interface SockerLibSocket {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  register(alias: string, func: (...args: any[]) => any): void;\n  executeAsUser<T extends keyof typeof functionsToRegister>(\n    alias: T,\n    userId: string,\n    ...args: Parameters<typeof functionsToRegister[T]>\n  ): Promise<ReturnType<typeof functionsToRegister[T]>>;\n  executeForEveryone<T extends keyof typeof functionsToRegister>(\n    alias: T,\n    ...args: Parameters<typeof functionsToRegister[T]>\n  ): Promise<void>;\n}\ndeclare global {\n  const socketlib: SockerLib;\n}\n\nexport function registerFunctions(): void {\n  console.log('REGISTRO LAS OPCIONES');\n  GurpsMageAscensionWizard.socket = socketlib.registerModule(MODULE_NAME);\n  for (const [alias, func] of Object.entries(functionsToRegister)) {\n    console.log(alias, func);\n    GurpsMageAscensionWizard.socket.register(alias, func);\n  }\n}\n","export const MODULE_NAME = 'gurps-mage-ascension-wizard';\nexport const SPELLS = {\n  SPEED: 'Aceleración',\n  PHYSICAL_SHIELD: 'Escudo físico',\n  MENTAL_SHIELD: 'Escudo Mental',\n  KINETIC_DODGE: 'Esquiva kinética',\n};\n","const NUMBER_OF_SPHERES = [\n  {\n    value: 1,\n    mod: 0,\n    desc: 'Una esfera',\n  },\n  {\n    value: 2,\n    mod: -1,\n    desc: 'Dos esferas',\n  },\n  {\n    value: 3,\n    mod: -2,\n    desc: 'Tres esferas',\n  },\n  {\n    value: 4,\n    mod: -3,\n    desc: 'Cuatro esferas',\n  },\n  {\n    value: 5,\n    mod: -4,\n    desc: 'Cinco esferas',\n  },\n];\n\nconst HIGHEST_SPHERE = [\n  {\n    value: 1,\n    mod: -1,\n    desc: 'Nivel 1',\n  },\n  {\n    value: 2,\n    mod: -2,\n    desc: 'Nivel 2',\n  },\n  {\n    value: 3,\n    mod: -3,\n    desc: 'Nivel 3',\n  },\n  {\n    value: 4,\n    mod: -4,\n    desc: 'Nivel 4',\n  },\n  {\n    value: 5,\n    mod: -5,\n    desc: 'Nivel 5',\n  },\n];\n\nconst NUMBER_OF_TARGETS = [\n  {\n    valueMin: 1,\n    valueMax: 1,\n    mod: 0,\n    desc: 'Un objetivo',\n  },\n  {\n    valueMin: 2,\n    valueMax: 3,\n    mod: -2,\n    desc: 'Grupo de entre dos y tres objetivos',\n  },\n  {\n    valueMin: 4,\n    valueMax: 5,\n    mod: -4,\n    desc: 'Grupo de entre cuatro o cinco objetivos',\n  },\n  {\n    valueMin: 6,\n    valueMax: 7,\n    mod: -6,\n    desc: 'Grupo de entre seis y siete objetivos',\n  },\n  {\n    valueMin: 8,\n    valueMax: 10,\n    mod: -8,\n    desc: 'Grupo de entre ocho y diez objetivos',\n  },\n  {\n    valueMin: 11,\n    valueMax: 15,\n    mod: -10,\n    desc: 'Grupo de entre diez y quince objetivos',\n  },\n  {\n    valueMin: 16,\n    valueMax: 20,\n    mod: -12,\n    desc: 'Grupo de entre quince y veinte objetivos',\n  },\n  {\n    valueMin: 21,\n    valueMax: 30,\n    mod: -14,\n    desc: 'Grupo de entre veinte y treinta objetivos',\n  },\n  {\n    valueMin: 31,\n    valueMax: 50,\n    mod: -14,\n    desc: 'Grupo de entre treinta y cincuenta objetivos',\n  },\n];\n\nconst DURATION = [\n  {\n    value: 0,\n    mod: 0,\n    desc: 'Instantáneo',\n  },\n  {\n    value: 10,\n    mod: -1,\n    desc: 'Diez segundos',\n  },\n  {\n    value: 60,\n    mod: -2,\n    desc: 'Un minuto',\n  },\n  {\n    value: 600,\n    mod: -4,\n    desc: 'Diez minutos',\n  },\n  {\n    value: 1800,\n    mod: -5,\n    desc: 'Treinta minutos',\n  },\n  {\n    value: 6000,\n    mod: -6,\n    desc: 'Una hora',\n  },\n  {\n    value: 18000,\n    mod: -7,\n    desc: 'Tres horas',\n  },\n  {\n    value: 32000,\n    mod: -8,\n    desc: 'Seis horas',\n  },\n  {\n    value: 64000,\n    mod: -9,\n    desc: 'Doce horas',\n  },\n  {\n    value: 128000,\n    mod: -10,\n    desc: 'Un día',\n  },\n];\n\nconst DISTANCE = [\n  {\n    valueMin: 1,\n    valueMax: 1,\n    mod: 0,\n    desc: 'Una casilla o menos',\n  },\n  {\n    valueMin: 2,\n    valueMax: 2,\n    mod: -1,\n    desc: 'Hasta dos casillas',\n  },\n  {\n    valueMin: 3,\n    valueMax: 5,\n    mod: -2,\n    desc: 'Hasta cinco casillas',\n  },\n  {\n    valueMin: 6,\n    valueMax: 8,\n    mod: -3,\n    desc: 'Hasta ocho casillas',\n  },\n  {\n    valueMin: 9,\n    valueMax: 11,\n    mod: -4,\n    desc: 'Hasta once casillas',\n  },\n  {\n    valueMin: 12,\n    valueMax: 15,\n    mod: -5,\n    desc: 'Hasta quince casillas',\n  },\n  {\n    valueMin: 16,\n    valueMax: 20,\n    mod: -6,\n    desc: 'Hasta veinte casillas',\n  },\n  {\n    valueMin: 21,\n    valueMax: 25,\n    mod: -7,\n    desc: 'Hasta veinticinco casillas',\n  },\n  {\n    valueMin: 26,\n    valueMax: 30,\n    mod: -8,\n    desc: 'Hasta treinta casillas',\n  },\n];\n\nconst AREA = [\n  {\n    valueMin: 1,\n    valueMax: 1,\n    mod: 0,\n    desc: 'Una casilla o menos',\n  },\n  {\n    valueMin: 2,\n    valueMax: 2,\n    mod: -1,\n    desc: 'Hasta dos casillas',\n  },\n  {\n    valueMin: 3,\n    valueMax: 4,\n    mod: -2,\n    desc: 'Hasta cuatro casillas',\n  },\n  {\n    valueMin: 5,\n    valueMax: 6,\n    mod: -3,\n    desc: 'Hasta seis casillas',\n  },\n  {\n    valueMin: 7,\n    valueMax: 8,\n    mod: -4,\n    desc: 'Hasta ocho casillas',\n  },\n  {\n    valueMin: 9,\n    valueMax: 10,\n    mod: -5,\n    desc: 'Hasta diez casillas',\n  },\n  {\n    valueMin: 11,\n    valueMax: 12,\n    mod: -6,\n    desc: 'Hasta doce casillas',\n  },\n  {\n    valueMin: 13,\n    valueMax: 14,\n    mod: -7,\n    desc: 'Hasta catorce casillas',\n  },\n  {\n    valueMin: 15,\n    valueMax: 16,\n    mod: -8,\n    desc: 'Hasta dieciséis casillas',\n  },\n  {\n    valueMin: 17,\n    valueMax: 18,\n    mod: -9,\n    desc: 'Hasta dieciocho casillas',\n  },\n  {\n    valueMin: 19,\n    valueMax: 20,\n    mod: -10,\n    desc: 'Hasta veinte casillas',\n  },\n];\n\nconst WEIGHT = [\n  {\n    valueMin: 0,\n    valueMax: 5,\n    mod: 0,\n    desc: 'Hast cinco kilos',\n  },\n  {\n    valueMin: 6,\n    valueMax: 10,\n    mod: -1,\n    desc: 'Hasta diez kilos',\n  },\n  {\n    valueMin: 11,\n    valueMax: 50,\n    mod: -3,\n    desc: 'Hasta cincuenta kilos',\n  },\n  {\n    valueMin: 51,\n    valueMax: 100,\n    mod: -4,\n    desc: 'Hasta cien kilos',\n  },\n  {\n    valueMin: 101,\n    valueMax: 250,\n    mod: -5,\n    desc: 'Hasta doscientos cincuenta kilos',\n  },\n  {\n    valueMin: 251,\n    valueMax: 500,\n    mod: -6,\n    desc: 'Hasta media tonelada',\n  },\n  {\n    valueMin: 501,\n    valueMax: 1000,\n    mod: -7,\n    desc: 'Hasta una tonelada',\n  },\n  {\n    valueMin: 10001,\n    valueMax: 2000,\n    mod: -8,\n    desc: 'Hasta dos toneladas',\n  },\n  {\n    valueMin: 2001,\n    valueMax: 3500,\n    mod: -9,\n    desc: 'Hasta tres toneladas y media',\n  },\n  {\n    valueMin: 3501,\n    valueMax: 5000,\n    mod: -10,\n    desc: 'Hasta cinco toneladas',\n  },\n];\n\nconst DISTANCE_WITH_CORRESPONDENCE = [\n  {\n    valueMax: 100,\n    mod: 0,\n    desc: 'Hasta cien metros',\n  },\n  {\n    valueMax: 500,\n    mod: -1,\n    desc: 'Hasta quinientos',\n  },\n  {\n    valueMax: 1000,\n    mod: -3,\n    desc: 'Hasta un kilómetro',\n  },\n  {\n    value: 5000,\n    mod: -4,\n    desc: 'Hasta cinco kilómetros',\n  },\n  {\n    value: 25000,\n    mod: -5,\n    desc: 'Hasta veinticinco kilómetros',\n  },\n  {\n    value: 100000,\n    mod: -6,\n    desc: 'Hasta cien kilómetros',\n  },\n  {\n    value: 500000,\n    mod: -7,\n    desc: 'Hasta quinientos kilómetros',\n  },\n  {\n    value: 1000000,\n    mod: -8,\n    desc: 'Hasta mil kilómetros',\n  },\n  {\n    value: 5000000,\n    mod: -9,\n    desc: 'Hasta cinco mil kilómetros',\n  },\n  {\n    value: 10000000,\n    mod: -10,\n    desc: 'Hasta diez mil kilómetros',\n  },\n];\n\nconst TIME_WITH_TIME = [\n  {\n    valueMax: 1,\n    mod: 0,\n    desc: 'Hasta un día',\n  },\n  {\n    valueMax: 7,\n    mod: -1,\n    desc: 'Hasta una semana',\n  },\n  {\n    valueMax: 31,\n    mod: -2,\n    desc: 'Hasta un mes',\n  },\n  {\n    value: 365,\n    mod: -4,\n    desc: 'Hasta un año',\n  },\n  {\n    value: 365 * 5,\n    mod: -5,\n    desc: 'Hasta cinco años',\n  },\n  {\n    value: 365 * 15,\n    mod: -6,\n    desc: 'Hasta quince años',\n  },\n  {\n    value: 365 * 50,\n    mod: -7,\n    desc: 'Hasta cincuenta años',\n  },\n  {\n    value: 365 * 100,\n    mod: -8,\n    desc: 'Hasta cien años',\n  },\n  {\n    value: 365 * 250,\n    mod: -9,\n    desc: 'Hasta doscientos años',\n  },\n  {\n    value: 365 * 500,\n    mod: -10,\n    desc: 'Hasta quinientos',\n  },\n];\n\nexport default {\n  NUMBER_OF_SPHERES,\n  HIGHEST_SPHERE,\n  NUMBER_OF_TARGETS,\n  DURATION,\n  DISTANCE,\n  AREA,\n  WEIGHT,\n  DISTANCE_WITH_CORRESPONDENCE,\n  TIME_WITH_TIME,\n};\n","function getPriority(user: User, actor: Actor): number {\n  let priority = 0;\n  if (user.character === actor) priority += 100;\n  if (actor.testUserPermission(user, 'OWNER')) priority += 10;\n  if (user.isGM) priority -= 1;\n  if (!user.active) priority -= 1000;\n  return priority;\n}\n\nfunction highestPriorityUsers(actor: Actor): User[] {\n  if (!game?.users) return [];\n  const priorities = new Map(game.users.map((user) => [user, getPriority(user, actor)]));\n  const maxPriority = Math.max(...priorities.values());\n  return game.users.filter((user) => priorities.get(user) === maxPriority);\n}\n\nexport function getControlledToken(): Token | undefined {\n  const controlled: Token[] | undefined = game?.canvas?.tokens?.controlled;\n  if (controlled && controlled.length === 1) {\n    const token: Token = controlled[0];\n    return token;\n  }\n  return undefined;\n}\n\nfunction getTargetsFromToken(token: Token): UserTargets | undefined {\n  if (!token?.actor) return undefined;\n  const user: User | undefined = highestPriorityUsers(token.actor)[0] || undefined;\n  return user?.targets;\n}\n\nexport function getSelectedTokenTargets(): UserTargets | undefined {\n  const controlledToken = getControlledToken();\n  if (controlledToken) {\n    return getTargetsFromToken(controlledToken);\n  }\n  return undefined;\n}\n\nexport function getObjectSpell(name: string): any {\n  const item = game?.items?.getName(name);\n  if (!item) return;\n  const changes: any = item.toObject();\n  changes._id = makeid(16);\n  changes.data.globalid = `item.${changes._id}`;\n  return changes;\n}\n\nfunction getToken(): Token | undefined {\n  return game?.canvas?.tokens?.controlled[0];\n}\n\nexport function getMargin(): number | undefined {\n  const margin = GURPS?.lastTargetedRoll?.margin || undefined;\n  if (!margin) return undefined;\n  return margin;\n}\n\nfunction makeid(length: number) {\n  let result = '';\n  const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n  const charactersLength = characters.length;\n  for (let i = 0; i < length; i++) {\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  }\n  return result;\n}\n\nexport function deleteObject(objectName: string) {\n  const myToken = getToken();\n  if (!myToken) return;\n  const actor = myToken?.actor;\n  if (!actor) return;\n  const equipment = actor?.data?.data?.equipment?.carried || {};\n\n  Object.keys(equipment).forEach((key) => {\n    const object = equipment[key];\n    if (object.name.toUpperCase() === objectName.toUpperCase()) {\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      actor.deleteEquipment(`data.equipment.carried.${key}`);\n    }\n  });\n}\n","function addUpdateFiltersOnSelected(params: any): any {\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  return TokenMagic.addUpdateFiltersOnSelected(params);\n}\n\nexport function removeFiltersOnSelected() {\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  return TokenMagic.deleteFiltersOnSelected();\n}\n\nexport function addMentalShieldFilter() {\n  const params = [\n    {\n      filterType: 'field',\n      filterId: 'myGridField',\n      shieldType: 11,\n      gridPadding: 2,\n      color: 0xc1c1c1,\n      time: 0,\n      blend: 2,\n      intensity: 1,\n      lightAlpha: 0,\n      lightSize: 0.3,\n      scale: 0.5,\n      radius: 0.3,\n      chromatic: true,\n      alphaDiscard: true,\n      discardThreshold: 0.3,\n      zOrder: 512,\n      animated: {\n        time: {\n          active: true,\n          speed: 0.0009,\n          animType: 'move',\n        },\n      },\n    },\n  ];\n  return addUpdateFiltersOnSelected(params);\n}\n\nexport function addPhysicalShieldFilter() {\n  const params = [\n    {\n      filterType: 'liquid',\n      filterId: 'mySpectralBody',\n      color: 0x20aaee,\n      time: 0,\n      blend: 8,\n      intensity: 4,\n      spectral: true,\n      scale: 0.9,\n      animated: {\n        time: {\n          active: true,\n          speed: 0.001,\n          animType: 'move',\n        },\n        color: {\n          active: true,\n          loopDuration: 6000,\n          animType: 'colorOscillation',\n          val1: 0xffffff,\n          val2: 0x00aaff,\n        },\n      },\n    },\n  ];\n\n  return addUpdateFiltersOnSelected(params);\n}\n\nexport function addSpeedFilter() {\n  const params = [\n    {\n      filterType: 'blur',\n      filterId: 'myBlur',\n      padding: 10,\n      quality: 4.0,\n      blur: 0,\n      blurX: 0,\n      blurY: 0,\n      animated: {\n        blurX: {\n          active: true,\n          animType: 'syncCosOscillation',\n          loopDuration: 500,\n          val1: 0,\n          val2: 6,\n        },\n        blurY: {\n          active: true,\n          animType: 'syncCosOscillation',\n          loopDuration: 750,\n          val1: 0,\n          val2: 6,\n        },\n      },\n    },\n  ];\n  return addUpdateFiltersOnSelected(params);\n}\n\nexport function addKineticDodgeFilter() {\n  const params = [\n    {\n      filterType: 'blur',\n      filterId: 'myBlur',\n      padding: 10,\n      quality: 4.0,\n      blur: 0,\n      blurX: 0,\n      blurY: 0,\n      animated: {\n        blurX: {\n          active: true,\n          animType: 'syncCosOscillation',\n          loopDuration: 500,\n          val1: 0,\n          val2: 6,\n        },\n        blurY: {\n          active: true,\n          animType: 'syncCosOscillation',\n          loopDuration: 750,\n          val1: 0,\n          val2: 6,\n        },\n      },\n    },\n  ];\n  return addUpdateFiltersOnSelected(params);\n}\n","import { SPELLS } from '../util/setup/constants';\nimport { deleteObject, getControlledToken, getMargin, getObjectSpell } from '../util/auxiliar';\nimport {\n  addKineticDodgeFilter,\n  addMentalShieldFilter,\n  addPhysicalShieldFilter,\n  addSpeedFilter,\n  removeFiltersOnSelected,\n} from './visualFilters';\n\nasync function addSpeed() {\n  const margin = getMargin();\n  if (!margin) return;\n  const value = Math.trunc((margin === 0 ? 1 : margin) / 5 + 1);\n\n  const myToken: Token | undefined = getControlledToken();\n  if (!myToken) return;\n\n  ui?.notifications?.info(`Añado una aceleración con margen de ${margin} (${value})`);\n\n  await removeSpeed();\n\n  const changes = getObjectSpell(SPELLS.SPEED);\n  changes.data.bonuses = changes.data.bonuses.replace('CHANGESPEED', value * 5);\n  changes.data.bonuses = changes.data.bonuses.replace('CHANGEDODGE', value);\n\n  (myToken.actor as any).addNewItemData(changes);\n  addSpeedFilter();\n}\n\nasync function removeSpeed() {\n  await deleteObject(SPELLS.SPEED);\n  await removeFiltersOnSelected();\n}\n\nasync function addPhysicalShield() {\n  const margin = getMargin();\n  if (!margin) return;\n  const value = Math.trunc((margin + 1) * 1.5);\n\n  const myToken: Token | undefined = getControlledToken();\n  if (!myToken) return;\n  ('');\n  ui?.notifications?.info('Añadido un escudo con un margen de ' + margin);\n\n  await removePhysicalShield();\n  const changes = getObjectSpell(SPELLS.PHYSICAL_SHIELD);\n  changes.data.bonuses = changes.data.bonuses.replace('CHANGE', value);\n  (myToken.actor as any).addNewItemData(changes);\n  addPhysicalShieldFilter();\n}\n\nasync function removePhysicalShield() {\n  await deleteObject(SPELLS.PHYSICAL_SHIELD);\n  await removeFiltersOnSelected();\n}\n\nasync function addMentalShield() {\n  const margin = getMargin();\n  if (!margin) return;\n  const value = Math.trunc((margin + 1) * 1.5);\n\n  const myToken: Token | undefined = getControlledToken();\n  if (!myToken) return;\n  ('');\n  ui?.notifications?.info('Añadido un escudo con un margen de ' + margin);\n\n  await removePhysicalShield();\n  const changes = getObjectSpell(SPELLS.MENTAL_SHIELD);\n  changes.data.bonuses = changes.data.bonuses.replace('CHANGE', value);\n  (myToken.actor as any).addNewItemData(changes);\n  addMentalShieldFilter();\n}\n\nasync function removeMentalShield() {\n  await deleteObject(SPELLS.MENTAL_SHIELD);\n  await removeFiltersOnSelected();\n}\n\nfunction calculateDamage() {\n  const margin = getMargin();\n  if (!margin) return;\n  const damageType = $('input[name=\"woundmodifier\"]:checked').val();\n  const baseDamage = Math.ceil(margin / 2);\n  const sum1 = margin % 2 ? 1 : 0;\n  const totalDamage = `${baseDamage}d+${sum1}`;\n\n  const messages = [\n    `Normal [/${totalDamage} ${damageType} Daño normal]`,\n    `Fuerzas [/${baseDamage + 1}d+${sum1} ${damageType} Daño con fuerzas]`,\n    `Vulgar [/${baseDamage + 1}d+${sum1} ${damageType} Daño con magia vulgar] `,\n    `Una esfera superior [/${baseDamage + 1}d+${sum1} ${damageType} Daño con una esfera por encima] `,\n    `Dos esferas superior [/${baseDamage + 2}d+${sum1} ${damageType} Daño con dos esferas por encima]`,\n  ];\n\n  const token = getControlledToken();\n  if (!token?.actor) return;\n  ChatMessage.create(\n    {\n      user: game?.user?.id,\n      content: messages.join('<br/>'),\n      visible: false,\n    },\n    {},\n  );\n}\n\nasync function calculateDamageFromSpell() {\n  const myContent = `<div name=\"wounding-modifiers\" class=\"default-wound-modifiers\">\n\t\t<div class=\"gurps-3col gurps-radio-col\">\n\t\t  <header>Damage Type</header>\n\t\t  <header>Abbrev</header>\n\t\t  <header>Modifier</header>\n\n\t\t\t<div><label><input type=\"radio\" name=\"woundmodifier\" value=\"burn\">&nbsp;Burning</label>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t  burn\n\t\t\t</div>\n\t\t\t<div name=\"burn\">×1\n\t\t\t</div>\n\t\t\t<div><label><input type=\"radio\" name=\"woundmodifier\" value=\"cor\">&nbsp;Corrosive</label>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t  cor\n\t\t\t</div>\n\t\t\t<div name=\"cor\">×1\n\t\t\t</div>\n\t\t\t<div><label><input type=\"radio\" name=\"woundmodifier\" value=\"cr\">&nbsp;Crushing</label>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t  cr\n\t\t\t</div>\n\t\t\t<div name=\"cr\">×1\n\t\t\t</div>\n\t\t\t<div><label><input type=\"radio\" name=\"woundmodifier\" checked=\"\" value=\"cut\">&nbsp;Cutting</label>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t  cut\n\t\t\t</div>\n\t\t\t<div name=\"cut\">×1.5\n\t\t\t</div>\n\t\t\t<div><label><input type=\"radio\" name=\"woundmodifier\" value=\"fat\">&nbsp;Fatigue</label>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t  fat\n\t\t\t</div>\n\t\t\t<div name=\"fat\">×1\n\t\t\t</div>\n\t\t\t<div><label><input type=\"radio\" name=\"woundmodifier\" value=\"imp\">&nbsp;Impaling</label>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t  imp\n\t\t\t</div>\n\t\t\t<div name=\"imp\">×2\n\t\t\t</div>\n\t\t\t<div><label><input type=\"radio\" name=\"woundmodifier\" value=\"pi-\">&nbsp;Small Piercing</label>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t  pi-\n\t\t\t</div>\n\t\t\t<div name=\"pi-\">×0.5\n\t\t\t</div>\n\t\t\t<div><label><input type=\"radio\" name=\"woundmodifier\" value=\"pi\">&nbsp;Piercing</label>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t  pi\n\t\t\t</div>\n\t\t\t<div name=\"pi\">×1\n\t\t\t</div>\n\t\t\t<div><label><input type=\"radio\" name=\"woundmodifier\" value=\"pi+\">&nbsp;Large Piercing</label>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t  pi+\n\t\t\t</div>\n\t\t\t<div name=\"pi+\">×1.5\n\t\t\t</div>\n\t\t\t<div><label><input type=\"radio\" name=\"woundmodifier\" value=\"pi++\">&nbsp;Huge Piercing</label>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t  pi++\n\t\t\t</div>\n\t\t\t<div name=\"pi++\">×2\n\t\t\t</div>\n\t\t\t<div><label><input type=\"radio\" name=\"woundmodifier\" value=\"tox\">&nbsp;Toxic</label>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t  tox\n\t\t\t</div>\n\t\t\t<div name=\"tox\">×1\n\t\t\t</div>\n\t\t\t<div><label><input type=\"radio\" name=\"woundmodifier\" value=\"dmg\">&nbsp;Damage</label>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t  dmg\n\t\t\t</div>\n\t\t\t<div name=\"dmg\">×1\n\t\t\t</div>\n\t\t\t<div><label><input type=\"radio\" name=\"woundmodifier\" value=\"ctrl\">&nbsp;Control Points</label>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t  ctrl\n\t\t\t</div>\n\t\t\t<div name=\"ctrl\">×1\n\t\t\t</div>\n\t\t</div>\n\t  </div>`;\n\n  new Dialog({\n    title: 'My Dialog Title',\n    content: myContent,\n    buttons: {\n      button1: {\n        label: 'OK',\n        callback: () => calculateDamage(),\n        icon: `<i class=\"fas fa-check\"></i>`,\n      },\n      button2: {\n        label: 'Cancel',\n        icon: `<i class=\"fas fa-times\"></i>`,\n      },\n    },\n  }).render(true);\n}\n\nasync function addKineticDodge() {\n  const margin = getMargin();\n  if (!margin) return;\n  const value = Math.ceil((margin === 0 ? 1 : margin) / 1.5);\n\n  const myToken: Token | undefined = getControlledToken();\n  if (!myToken) return;\n  ('');\n  ui?.notifications?.info('Añado una esquiva escudo con un margen de ' + margin);\n\n  await removeKineticDodge();\n  const changes = getObjectSpell(SPELLS.KINETIC_DODGE);\n  changes.data.bonuses = changes.data.bonuses.replace('CHANGE', value);\n  (myToken.actor as any).addNewItemData(changes);\n  addKineticDodgeFilter();\n}\n\nasync function removeKineticDodge() {\n  await deleteObject(SPELLS.KINETIC_DODGE);\n  await removeFiltersOnSelected();\n}\n\nexport default function registerSpells() {\n  window.GurpsMageAscensionWizard.spellFunctions = {\n    addSpeed,\n    removeSpeed,\n    addPhysicalShield,\n    removePhysicalShield,\n    addMentalShield,\n    removeMentalShield,\n    calculateDamageFromSpell,\n    addKineticDodge,\n    removeKineticDodge,\n  };\n}\n\nfunction calculateHealingFromSpell() {\n  const margin = getMargin();\n  if (!margin) return;\n  const numberOfDice = Math.floor(margin / 3);\n\n  const myToken: Token | undefined = getControlledToken();\n  if (!myToken) return;\n\n  const healing = `[/hp +${numberOfDice}d Healing]`;\n  ChatMessage.create(\n    {\n      user: game?.user?.id,\n      content: healing,\n      visible: false,\n    },\n    {},\n  );\n}\n\nexport function getSpells() {\n  return {\n    addSpeed,\n    removeSpeed,\n    addPhysicalShield,\n    removePhysicalShield,\n    addMentalShield,\n    removeMentalShield,\n    calculateDamageFromSpell,\n    addKineticDodge,\n    removeKineticDodge,\n    calculateHealingFromSpell,\n  };\n}\n","import { MODULE_NAME } from '../util/setup/constants';\nimport CONTENT from '../data/content';\nimport { DataModifiers, Modifier, NameModifiers, Selectors } from '../types';\nimport { getControlledToken, getSelectedTokenTargets } from '../util/auxiliar';\nimport { MeasuredTemplateData } from '@league-of-foundry-developers/foundry-vtt-types/src/foundry/common/data/data.mjs';\nimport { getSpells } from './spellFunctions';\n\nfunction getModifiersFromSpell(html: JQuery): Modifier[] {\n  const numberOfSpheres = Number($('#numberOfSpheres').val());\n  const textNumberOfSpheres: string = $('#numberOfSpheres option:selected').text() as string;\n  const highestSphere = Number($('#highestSphere').val());\n  const textHighestSphere: string = $('#highestSphere option:selected').text() as string;\n  const numberOfObjectives = Number($('#numberOfObjectives').val());\n  const textNumberOfObjectives: string = $('#numberOfObjectives option:selected').text() as string;\n  const time = Number($('#time').val());\n  const textTime: string = $('#time option:selected').text() as string;\n  const distance = Number($('#distance').val());\n  const textDistance: string = $('#distance option:selected').text() as string;\n  const effectArea = Number($('#effectArea').val());\n  const textEffectArea: string = $('#effectArea option:selected').text() as string;\n  const weight = Number($('#weight').val());\n  const textWeight: string = $('#weight option:selected').text() as string;\n  const distanceByCorrespondence = Number($('#distanceByCorrespondence').val());\n  const textDistanceByCorrespondence: string = $('#distanceByCorrespondence option:selected').text() as string;\n  const timeByTime = Number($('#timeByTime').val());\n  const textTimeByTime: string = $('#timeByTime option:selected').text() as string;\n\n  const modifiers: Modifier[] = [];\n\n  if (numberOfSpheres) modifiers.push({ mod: numberOfSpheres, desc: `por número de esferas (${textNumberOfSpheres})` });\n  if (highestSphere) modifiers.push({ mod: highestSphere, desc: `por esfera más alta (${textHighestSphere})` });\n  if (numberOfObjectives)\n    modifiers.push({\n      mod: numberOfObjectives,\n      desc: `por número de objetivos (${textNumberOfObjectives})`,\n    });\n  if (time) modifiers.push({ mod: time, desc: `por duración del conjuro (${textTime})` });\n  if (distance) modifiers.push({ mod: distance, desc: `por distancia (${textDistance})` });\n  if (effectArea) modifiers.push({ mod: effectArea, desc: `por área de efecto (${textEffectArea})` });\n  if (weight) modifiers.push({ mod: weight, desc: `por peso (${textWeight})` });\n  if (distanceByCorrespondence)\n    modifiers.push({\n      mod: distanceByCorrespondence,\n      desc: `por distancia de Correspondencia (${textDistanceByCorrespondence})`,\n    });\n  if (timeByTime)\n    modifiers.push({ mod: timeByTime, desc: `por distancia temporal en esfera de tiempo (${textTimeByTime})` });\n  const customModifiers: string = $('#customModifiers').val() as string;\n  if (customModifiers) {\n    customModifiers.split('\\n').forEach((line: string) => {\n      const values: string[] = line.split(' ');\n      const mod = Number(values.shift());\n      const desc: string = values.join(' ');\n      modifiers.push({ mod, desc });\n    });\n  }\n\n  return modifiers;\n}\n\nfunction getGridValue(template: MeasuredTemplate): number {\n  let total = 0;\n  if (!template) return 0;\n  if (!template.shape) return 0;\n  if (!game?.canvas) return 0;\n  const canvas = game.canvas;\n  if (!canvas?.grid) return 0;\n  if (!canvas?.grid?.grid) return 0;\n  const grid = canvas.grid;\n  const d = canvas.dimensions;\n  if (!grid?.grid) return 0;\n  if (!d) return 0;\n\n  // Get number of rows and columns\n  const [maxr, maxc] = grid.grid.getGridPositionFromPixels(d.width, d.height);\n  let nr = Math.ceil((template.data.distance * 1.5) / d.distance / (d.size / grid.h));\n  let nc = Math.ceil((template.data.distance * 1.5) / d.distance / (d.size / grid.w));\n  nr = Math.min(nr, maxr);\n  nc = Math.min(nc, maxc);\n\n  // Get the offset of the template origin relative to the top-left grid space\n  const [tx, ty] = canvas.grid.getTopLeft(template.data.x, template.data.y);\n  const [row0, col0] = grid.grid.getGridPositionFromPixels(tx, ty);\n  const hx = Math.ceil(canvas.grid.w / 2);\n  const hy = Math.ceil(canvas.grid.h / 2);\n  const isCenter = template.data.x - tx === hx && template.data.y - ty === hy;\n\n  // Identify grid coordinates covered by the template Graphics\n  for (let r = -nr; r < nr; r++) {\n    for (let c = -nc; c < nc; c++) {\n      const [gx, gy] = canvas.grid.grid.getPixelsFromGridPosition(row0 + r, col0 + c);\n      const testX = gx + hx - template.data.x;\n      const testY = gy + hy - template.data.y;\n      const contains = (r === 0 && c === 0 && isCenter) || template.shape.contains(testX, testY);\n      if (!contains) continue;\n      total += 1;\n    }\n  }\n  return total;\n}\n\nfunction getDistanceFromAreaOrTargets(type: string): number {\n  if (!game?.canvas?.grid) return 0;\n  const controlledToken: Token | undefined = getControlledToken();\n  if (!controlledToken) return 0;\n  const lastArea: any | null = window?.GurpsMageAscensionWizard?.lastAreaCreated;\n  const currentUserTargets: UserTargets | undefined = game?.user?.targets;\n  const currentSelectedTargetTargets: UserTargets | undefined = getSelectedTokenTargets();\n  if (lastArea && type.toUpperCase() === 'AREA') {\n    return (\n      game.canvas.grid.measureDistance(\n        { x: controlledToken.x, y: controlledToken.y },\n        {\n          x: lastArea.data.x,\n          y: lastArea.data.y,\n        },\n        {\n          gridSpaces: true,\n        },\n      ) || 0\n    );\n  }\n  const targets: UserTargets | undefined = currentUserTargets || currentSelectedTargetTargets;\n  if (!targets) return 0;\n  let maxDistance = 0;\n  for (const target of targets) {\n    const distanceTarget =\n      game.canvas.grid.measureDistance(\n        { x: controlledToken.x, y: controlledToken.y },\n        {\n          x: target.x,\n          y: target.y,\n        },\n        {\n          gridSpaces: true,\n        },\n      ) || 0;\n    if (maxDistance < distanceTarget) {\n      maxDistance = distanceTarget;\n    }\n  }\n  return maxDistance;\n}\n\nexport default class BaseSpellCasting extends Application {\n  dataModifiers: DataModifiers | Record<string, never>;\n  numberOfSpheres = 0;\n  highestSphere = 0;\n  numberOfObjectives = 0;\n  time = 0;\n  distance = 0;\n  effectArea = 0;\n  weight = 0;\n  distanceByCorrespondence = 0;\n  timeByTime = 0;\n\n  constructor(options?: Partial<Application>) {\n    super({\n      title: `Lanzamiento de conjuro`,\n      template: `modules/${MODULE_NAME}/module/templates/baseSpellCasting.hbs`,\n      resizable: true,\n      width: 650,\n      height: 575,\n      ...options,\n    });\n    this.dataModifiers = {};\n  }\n\n  extractEffectAreaFromLastArea() {\n    if (!window?.GurpsMageAscensionWizard?.lastAreaCreated) return;\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    const total = getGridValue(window?.GurpsMageAscensionWizard?.lastAreaCreated?._object);\n    if (total === 0) return;\n    const finalNumber: number = Math.ceil(Math.sqrt(total));\n    const found = CONTENT.AREA.find(({ valueMin, valueMax }) => valueMin <= finalNumber && valueMax >= finalNumber);\n    if (found) {\n      this.effectArea = found.mod;\n      this.render();\n    }\n\n    game?.canvas?.scene?.deleteEmbeddedDocuments(\n      'MeasuredTemplate',\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      canvas.scene.templates.map((i) => window?.GurpsMageAscensionWizard?.lastAreaCreated?.id),\n    );\n  }\n\n  extractDistanceFromTargetsOrArea(type: string) {\n    const distance: number = getDistanceFromAreaOrTargets(type);\n    const found = CONTENT.DISTANCE.find(({ valueMin, valueMax }) => valueMin <= distance && valueMax >= distance);\n    if (found) {\n      this.distance = found.mod;\n      this.render();\n    }\n  }\n\n  extractNumberOfObjectivesFromSelectedToken() {\n    const totalCurrentUserTargets = game?.user?.targets?.size || 0;\n    const totalSelectedTokenTargets = getSelectedTokenTargets()?.size || 0;\n    const totalTargets: number = totalCurrentUserTargets || totalSelectedTokenTargets;\n    const found = CONTENT.NUMBER_OF_TARGETS.find(\n      ({ valueMin, valueMax }) => valueMin <= totalTargets && valueMax >= totalTargets,\n    );\n\n    if (found) {\n      this.numberOfObjectives = found.mod;\n      this.render();\n    }\n  }\n\n  getData(options?: Partial<ApplicationOptions>): any {\n    Object.keys(CONTENT).forEach((key: string) => {\n      const content = CONTENT[key as NameModifiers];\n      const objectValues: Record<number, string> = {};\n      content.forEach((record: Selectors) => (objectValues[record.mod] = record.desc));\n      this.dataModifiers[key as NameModifiers] = objectValues;\n    });\n    return {\n      dataModifiers: this.dataModifiers,\n      numberOfSpheres: this.numberOfSpheres,\n      highestSphere: this.highestSphere,\n      numberOfObjectives: this.numberOfObjectives,\n      time: this.time,\n      distance: this.distance,\n      effectArea: this.effectArea,\n      weight: this.weight,\n      distanceByCorrespondence: this.distanceByCorrespondence,\n      timeByTime: this.timeByTime,\n    };\n  }\n\n  activateListeners(html: JQuery): void {\n    $('#getModifiersFromSpell').on('click', () => {\n      GURPS.ModifierBucket.clear();\n      const modifiers: Modifier[] = getModifiersFromSpell(html);\n      for (const modifier of modifiers) {\n        GURPS.ModifierBucket.addModifier(modifier.mod, modifier.desc);\n      }\n    });\n    $('#extractNumberOfObjectives').on('click', () => {\n      this.extractNumberOfObjectivesFromSelectedToken();\n      return false;\n    });\n    $('#extractEffectAreaFromLastArea').on('click', () => {\n      this.extractEffectAreaFromLastArea();\n      this.extractDistanceFromTargetsOrArea('area');\n      return false;\n    });\n    $('#extractDistanceFromTargetsOrArea').on('click', () => {\n      this.extractDistanceFromTargetsOrArea('tokens');\n      return false;\n    });\n\n    $('.spellClickable').on('click', (evt) => {\n      debugger;\n      const id = $(evt.target).attr('id');\n      if (!id) return;\n      const spells = getSpells();\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      const spellFunc = spells[id];\n      if (spellFunc) {\n        spellFunc();\n      }\n      return false;\n    });\n  }\n\n  async _updateObject(event: Event, formData: Application.RenderOptions) {\n    // normal updateObject stuff\n    this.render(); // rerenders the FormApp with the new data.\n  }\n}\n","import BaseSpellCasting from '../spells/BaseSpellCasting';\n\nexport class GurpsMageAscensionLayer extends CanvasLayer {\n  private static baseSpellCasting: BaseSpellCasting | undefined;\n\n  async draw() {\n    await super.draw();\n    return this;\n  }\n\n  static async doMagick() {\n    this.baseSpellCasting = new BaseSpellCasting();\n    this.baseSpellCasting.render(true);\n  }\n}\n\nexport function addGurpsMageAscensionButtons(buttons: any[]) {\n  const tokenLayer: any | undefined = buttons.find((b: any) => b.name === 'token');\n\n  if (tokenLayer) {\n    tokenLayer.tools.push({\n      name: 'spell',\n      title: 'Prepara tu hechizo',\n      icon: 'fas fa-book-reader',\n      visible: true,\n      button: true,\n      onClick: () => GurpsMageAscensionLayer.doMagick(),\n    });\n  }\n}\n","import { registerFunctions } from './socketkib';\nimport { addGurpsMageAscensionButtons } from '../../layer/gurpsMageAscensionLayer';\n\nexport function registerHooks(): void {\n  console.log('LLEGO A HOOKS');\n  Hooks.once('socketlib.ready', registerFunctions);\n  Hooks.on('getSceneControlButtons', (buttons) => addGurpsMageAscensionButtons(buttons));\n  Hooks.on('createMeasuredTemplate', (config: any) => {\n    window.GurpsMageAscensionWizard.lastAreaCreated = config;\n  });\n}\n","import { GurpsMageAscensionLayer } from '../../layer/gurpsMageAscensionLayer';\n\nexport function registerConfig() {\n  CONFIG.Canvas.layers['GurpsMageAscensionWizard'] = {\n    layerClass: GurpsMageAscensionLayer,\n    group: 'primary',\n  };\n}\n","// Import TypeScript modules\nimport { registerHooks } from './util/setup/hooks.js';\nimport { SockerLibSocket } from './util/setup/socketkib';\nimport registerSpells from './spells/spellFunctions';\nimport { registerConfig } from './util/setup/config';\nconst globals = {\n  lastAreaCreated: null,\n  spellFunctions: {},\n};\n\ndeclare global {\n  const GurpsMageAscensionWizard: typeof globals & { socket: SockerLibSocket };\n  interface Window {\n    GurpsMageAscensionWizard: typeof globals;\n  }\n  interface LenientGlobalVariableTypes {\n    game: Game;\n  }\n}\n\nwindow.GurpsMageAscensionWizard = globals;\n\nregisterConfig();\n\nregisterHooks();\nregisterSpells();\n"],"names":["MODULE_NAME"],"mappings":"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"}